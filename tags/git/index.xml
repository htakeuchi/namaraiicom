<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>git on namaraii.com</title>
    <link>https://namaraii.com/tags/git/</link>
    <description>Recent content in git on namaraii.com</description>
    <generator>Hugo -- gohugo.io</generator>
    <copyright>Copyright © 2008–2021, TAKEUCHI Hitoshi all rights reserved.</copyright>
    <lastBuildDate>Mon, 19 Feb 2018 23:07:41 +0900</lastBuildDate><atom:link href="https://namaraii.com/tags/git/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>『Pro Git(第2版)』をビルドしてHTML/epub3/PDF/mobiを生成してみた</title>
      <link>https://namaraii.com/post/2018/20180219_generate-progit/</link>
      <pubDate>Mon, 19 Feb 2018 23:07:41 +0900</pubDate>
      
      <guid>https://namaraii.com/post/2018/20180219_generate-progit/</guid>
      <description>
        
          &lt;p&gt;Asciidocで書かれ、クリエィティブコモンズで公開されている『Pro Git(第2版)』をビルドし、HTML/epub3/PDF/mobiを生成してみました。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/progit/progit2-ja&#34;&gt;progit/progit2-ja&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;$ docker run --rm -it -v &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;pwd&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;:/documents htakeuchi/docker-asciidoctor-jp
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;$ git clone https://github.com/progit/progit2-ja.git
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;$ &lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; progit2-ja.git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Dockerイメージ&lt;a href=&#34;https://github.com/htakeuchi/docker-asciidoctor-jp&#34;&gt;htakeuchi/docker-asciidoctor-jp&lt;/a&gt;のRubyは2.4.3p205ですが、一部、Nataive extensionのビルドに失敗するためGemfileを修正。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;ln&#34;&gt; 1&lt;/span&gt;source &amp;#39;https://rubygems.org&amp;#39;
&lt;span class=&#34;ln&#34;&gt; 2&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 3&lt;/span&gt;gem &amp;#39;rake&amp;#39;
&lt;span class=&#34;ln&#34;&gt; 4&lt;/span&gt;gem &amp;#39;asciidoctor&amp;#39;, &amp;#39;1.5.0&amp;#39;
&lt;span class=&#34;ln&#34;&gt; 5&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 6&lt;/span&gt;gem &amp;#39;json&amp;#39;, github: &amp;#39;flori/json&amp;#39;, branch: &amp;#39;v1.8&amp;#39;
&lt;span class=&#34;ln&#34;&gt; 7&lt;/span&gt;gem &amp;#39;awesome_print&amp;#39;
&lt;span class=&#34;ln&#34;&gt; 8&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt; 9&lt;/span&gt;gem &amp;#39;asciidoctor-epub3&amp;#39;, &amp;#39;1.0.0.alpha.2&amp;#39;
&lt;span class=&#34;ln&#34;&gt;10&lt;/span&gt;gem &amp;#39;asciidoctor-pdf&amp;#39;, &amp;#39;1.5.0.alpha.5&amp;#39;
&lt;span class=&#34;ln&#34;&gt;11&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;12&lt;/span&gt;gem &amp;#39;coderay&amp;#39;
&lt;span class=&#34;ln&#34;&gt;13&lt;/span&gt;gem &amp;#39;yajl-ruby&amp;#39;, &amp;#39;1.3.1&amp;#39;
&lt;span class=&#34;ln&#34;&gt;14&lt;/span&gt;gem &amp;#39;pygments.rb&amp;#39;
&lt;span class=&#34;ln&#34;&gt;15&lt;/span&gt;gem &amp;#39;thread_safe&amp;#39;
&lt;span class=&#34;ln&#34;&gt;16&lt;/span&gt;gem &amp;#39;epubcheck&amp;#39;
&lt;span class=&#34;ln&#34;&gt;17&lt;/span&gt;gem &amp;#39;kindleg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;続けます。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;$ bundle install
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;$ bundle &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; rake book:build
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;HTML/epub3は正常に生成されましたが、PDFは日本語が出力されず、mobiはKindleアプリ(Mac版)で開けないという問題が発生したので、RakefileのPDF生成部分のみ修正。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ruby&#34; data-lang=&#34;ruby&#34;&gt;&lt;span class=&#34;ln&#34;&gt;1&lt;/span&gt;    &lt;span class=&#34;nb&#34;&gt;puts&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Converting to PDF... (this one takes a while)&amp;#34;&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;2&lt;/span&gt;    &lt;span class=&#34;sb&#34;&gt;`asciidoctor-pdf -r asciidoctor-pdf-cjk-kai_gen_gothic -a pdf-style=KaiGenGothicJP progit.asc 2&amp;gt;/dev/null`&lt;/span&gt;
&lt;span class=&#34;ln&#34;&gt;3&lt;/span&gt;    &lt;span class=&#34;nb&#34;&gt;puts&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34; -- PDF  output at progit.pdf&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;再度rakeしたところ、PDFは正しく生成されました。mobiに関しては引き続き調査だな…&lt;/p&gt;
&lt;p&gt;以下、生成したファイルを置いておきます。PDFで527ページあります。クオリティ高すぎ。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://namaraii.com/progit/progit.html&#34;&gt;Pro Git 第2版（日本語版）HTML&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://namaraii.com/progit/progit.pdf&#34;&gt;Pro Git 第2版（日本語版）PDF&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://namaraii.com/progit/progit.epub&#34;&gt;Pro Git 第2版（日本語版）epub3&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
        
      </description>
    </item>
    
    <item>
      <title>GitのURL指定を間違えるとCould not resolve hostnameに</title>
      <link>https://namaraii.com/post/2013/20130726_giturlcouldnotresolvehostname1791c2f00a04/</link>
      <pubDate>Fri, 26 Jul 2013 00:00:00 +0000</pubDate>
      
      <guid>https://namaraii.com/post/2013/20130726_giturlcouldnotresolvehostname1791c2f00a04/</guid>
      <description>
        
          &lt;p&gt;gitでリモートブランチを追加して、&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ git add remote dev-web ssh://username@dev-web.example.com:/repos/hoge.git
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;リモートブランチへpushしようとしたら、以下のエラーが。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ssh: Could not resolve hostname dev-web.example.com:: Name or service not known
fatal: The remote end hung up unexpectedly
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;man
git-cloneしてみたら、scpのようなフォーマットで書く場合は、下のようにプロトコルを省略すれば良いようだ。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;username@dev-web.example.com:/repos/hoge.git
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;プロトコルを書く場合は、&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ssh://username@dev-web.example.com/repos/hoge.git
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;とする。ホスト名の後ろの:は書かないこと。&lt;/p&gt;

        
      </description>
    </item>
    
  </channel>
</rss>
